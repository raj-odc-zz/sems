!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){function e(t,e,i){var n;return e.rgba.length&&t.rgba.length?(t=t.rgba,e=e.rgba,n=1!==e[3]||1!==t[3],t=(n?"rgba(":"rgb(")+Math.round(e[0]+(t[0]-e[0])*(1-i))+","+Math.round(e[1]+(t[1]-e[1])*(1-i))+","+Math.round(e[2]+(t[2]-e[2])*(1-i))+(n?","+(e[3]+(t[3]-e[3])*(1-i)):"")+")"):t=e.input||"none",t}var i=function(){},n=t.getOptions(),r=t.each,o=t.extend,s=t.format,a=t.pick,l=t.wrap,h=t.Chart,c=t.seriesTypes,u=c.pie,d=c.column,p=t.Tick,f=t.fireEvent,g=t.inArray,m=1;r(["fill","stroke"],function(i){t.Fx.prototype[i+"Setter"]=function(){this.elem.attr(i,e(t.Color(this.start),t.Color(this.end),this.pos))}}),o(n.lang,{drillUpText:"\u25c1 Back to {series.name}"}),n.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}},t.SVGRenderer.prototype.Element.prototype.fadeIn=function(t){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:a(this.newOpacity,1)},t||{duration:250})},h.prototype.addSeriesAsDrilldown=function(t,e){this.addSingleSeriesAsDrilldown(t,e),this.applyDrilldown()},h.prototype.addSingleSeriesAsDrilldown=function(t,e){var n,s=t.series,a=s.xAxis,l=s.yAxis;n=t.color||s.color;var h,c,u,d=[],p=[];this.drilldownLevels||(this.drilldownLevels=[]),c=s.options._levelNumber||0,(u=this.drilldownLevels[this.drilldownLevels.length-1])&&u.levelNumber!==c&&(u=void 0),e=o({color:n,_ddSeriesId:m++},e),h=g(t,s.points),r(s.chart.series,function(t){t.xAxis!==a||t.isDrilling||(t.options._ddSeriesId=t.options._ddSeriesId||m++,t.options._colorIndex=t.userOptions._colorIndex,t.options._levelNumber=t.options._levelNumber||c,u?(d=u.levelSeries,p=u.levelSeriesOptions):(d.push(t),p.push(t.options)))}),n={levelNumber:c,seriesOptions:s.options,levelSeriesOptions:p,levelSeries:d,shapeArgs:t.shapeArgs,bBox:t.graphic?t.graphic.getBBox():{},color:n,lowerSeriesOptions:e,pointOptions:s.options.data[h],pointIndex:h,oldExtremes:{xMin:a&&a.userMin,xMax:a&&a.userMax,yMin:l&&l.userMin,yMax:l&&l.userMax}},this.drilldownLevels.push(n),n=n.lowerSeries=this.addSeries(e,!1),n.options._levelNumber=c+1,a&&(a.oldPos=a.pos,a.userMin=a.userMax=null,l.userMin=l.userMax=null),s.type===n.type&&(n.animate=n.animateDrilldown||i,n.options.animation=!0)},h.prototype.applyDrilldown=function(){var t,e=this.drilldownLevels;e&&e.length>0&&(t=e[e.length-1].levelNumber,r(this.drilldownLevels,function(e){e.levelNumber===t&&r(e.levelSeries,function(e){e.options&&e.options._levelNumber===t&&e.remove(!1)})})),this.redraw(),this.showDrillUpButton()},h.prototype.getDrilldownBackText=function(){var t=this.drilldownLevels;return t&&t.length>0?(t=t[t.length-1],t.series=t.seriesOptions,s(this.options.lang.drillUpText,t)):void 0},h.prototype.showDrillUpButton=function(){var t,e,i=this,n=this.getDrilldownBackText(),r=i.options.drilldown.drillUpButton;this.drillUpButton?this.drillUpButton.attr({text:n}).align():(e=(t=r.theme)&&t.states,this.drillUpButton=this.renderer.button(n,null,null,function(){i.drillUp()},t,e&&e.hover,e&&e.select).attr({align:r.position.align,zIndex:9}).add().align(r.position,!1,r.relativeTo||"plotBox"))},h.prototype.drillUp=function(){for(var t,e,i,n,o=this,s=o.drilldownLevels,a=s[s.length-1].levelNumber,l=s.length,h=o.series,c=function(t){var s;r(h,function(e){e.options._ddSeriesId===t._ddSeriesId&&(s=e)}),s=s||o.addSeries(t,!1),s.type===i.type&&s.animateDrillupTo&&(s.animate=s.animateDrillupTo),t===e.seriesOptions&&(n=s)};l--;)if(e=s[l],e.levelNumber===a){if(s.pop(),i=e.lowerSeries,!i.chart)for(t=h.length;t--;)if(h[t].options.id===e.lowerSeriesOptions.id&&h[t].options._levelNumber===a+1){i=h[t];break}i.xData=[],r(e.levelSeriesOptions,c),f(o,"drillup",{seriesOptions:e.seriesOptions}),n.type===i.type&&(n.drilldownLevel=e,n.options.animation=o.options.drilldown.animation,i.animateDrillupFrom&&i.chart&&i.animateDrillupFrom(e)),n.options._levelNumber=a,i.remove(!1),n.xAxis&&(t=e.oldExtremes,n.xAxis.setExtremes(t.xMin,t.xMax,!1),n.yAxis.setExtremes(t.yMin,t.yMax,!1))}this.redraw(),0===this.drilldownLevels.length?this.drillUpButton=this.drillUpButton.destroy():this.drillUpButton.attr({text:this.getDrilldownBackText()}).align(),this.ddDupes.length=[]},d.prototype.supportsDrilldown=!0,d.prototype.animateDrillupTo=function(t){if(!t){var e=this,n=e.drilldownLevel;r(this.points,function(t){t.graphic&&t.graphic.hide(),t.dataLabel&&t.dataLabel.hide(),t.connector&&t.connector.hide()}),setTimeout(function(){e.points&&r(e.points,function(t,e){var i=e===(n&&n.pointIndex)?"show":"fadeIn",r="show"===i?!0:void 0;t.graphic&&t.graphic[i](r),t.dataLabel&&t.dataLabel[i](r),t.connector&&t.connector[i](r)})},Math.max(this.chart.options.drilldown.animation.duration-50,0)),this.animate=i}},d.prototype.animateDrilldown=function(t){var e,i=this,n=this.chart.drilldownLevels,s=this.chart.options.drilldown.animation,l=this.xAxis;t||(r(n,function(t){i.options._ddSeriesId===t.lowerSeriesOptions._ddSeriesId&&(e=t.shapeArgs,e.fill=t.color)}),e.x+=a(l.oldPos,l.pos)-l.pos,r(this.points,function(t){t.graphic&&t.graphic.attr(e).animate(o(t.shapeArgs,{fill:t.color}),s),t.dataLabel&&t.dataLabel.fadeIn(s)}),this.animate=null)},d.prototype.animateDrillupFrom=function(e){var i=this.chart.options.drilldown.animation,n=this.group,s=this;r(s.trackerGroups,function(t){s[t]&&s[t].on("mouseover")}),delete this.group,r(this.points,function(r){var s=r.graphic,a=function(){s.destroy(),n&&(n=n.destroy())};s&&(delete r.graphic,i?s.animate(o(e.shapeArgs,{fill:e.color}),t.merge(i,{complete:a})):(s.attr(e.shapeArgs),a()))})},u&&o(u.prototype,{supportsDrilldown:!0,animateDrillupTo:d.prototype.animateDrillupTo,animateDrillupFrom:d.prototype.animateDrillupFrom,animateDrilldown:function(e){var i=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],n=this.chart.options.drilldown.animation,s=i.shapeArgs,a=s.start,l=(s.end-a)/this.points.length;e||(r(this.points,function(e,r){e.graphic.attr(t.merge(s,{start:a+r*l,end:a+(r+1)*l,fill:i.color}))[n?"animate":"attr"](o(e.shapeArgs,{fill:e.color}),n)}),this.animate=null)}}),t.Point.prototype.doDrilldown=function(t,e){var i,n=this.series.chart,r=n.options.drilldown,o=(r.series||[]).length;for(n.ddDupes||(n.ddDupes=[]);o--&&!i;)r.series[o].id===this.drilldown&&-1===g(this.drilldown,n.ddDupes)&&(i=r.series[o],n.ddDupes.push(this.drilldown));f(n,"drilldown",{point:this,seriesOptions:i,category:e,points:void 0!==e&&this.series.xAxis.ddPoints[e].slice(0)}),i&&(t?n.addSingleSeriesAsDrilldown(this,i):n.addSeriesAsDrilldown(this,i))},t.Axis.prototype.drilldownCategory=function(t){var e,i,n=this.ddPoints[t];for(e in n)(i=n[e])&&i.series&&i.series.visible&&i.doDrilldown&&i.doDrilldown(!0,t);this.chart.applyDrilldown()},t.Axis.prototype.getDDPoints=function(t,e){var i=this.ddPoints;return i||(this.ddPoints=i={}),i[t]||(i[t]=[]),i[t].levelNumber!==e&&(i[t].length=0),i[t]},p.prototype.drillable=function(){var e=this.pos,i=this.label,n=this.axis,r=n.ddPoints&&n.ddPoints[e];i&&r&&r.length?(i.basicStyles||(i.basicStyles=t.merge(i.styles)),i.addClass("highcharts-drilldown-axis-label").css(n.chart.options.drilldown.activeAxisLabelStyle).on("click",function(){n.drilldownCategory(e)})):i&&i.basicStyles&&(i.styles={},i.css(i.basicStyles),i.on("click",null))},l(p.prototype,"addLabel",function(t){t.call(this),this.drillable()}),l(t.Point.prototype,"init",function(e,i,n,r){var o=e.call(this,i,n,r),e=(n=i.xAxis)&&n.ticks[r],n=n&&n.getDDPoints(r,i.options._levelNumber);return o.drilldown&&(t.addEvent(o,"click",function(){i.xAxis&&i.chart.options.drilldown.allowPointDrilldown===!1?i.xAxis.drilldownCategory(r):o.doDrilldown()}),n)&&(n.push(o),n.levelNumber=i.options._levelNumber),e&&e.drillable(),o}),l(t.Series.prototype,"drawDataLabels",function(t){var e=this.chart.options.drilldown.activeDataLabelStyle;t.call(this),r(this.points,function(t){t.drilldown&&t.dataLabel&&t.dataLabel.attr({"class":"highcharts-drilldown-data-label"}).css(e)})});var v,n=function(t){t.call(this),r(this.points,function(t){t.drilldown&&t.graphic&&t.graphic.attr({"class":"highcharts-drilldown-point"}).css({cursor:"pointer"})})};for(v in c)c[v].prototype.supportsDrilldown&&l(c[v].prototype,"drawTracker",n)});